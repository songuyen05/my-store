<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Placed</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header>
    <h1 class="title">Order Confirmed!</h1>
  </header>

  <main class="checkout-main confirmation-card">
    <div class="success-check">âœ“</div>
    
    <h2 class="fade-in fade-delay-1">Thank You For Your Order</h2>

    <p class="fade-in fade-delay-2">Your order has been placed successfully.</p>

    <p class="fade-in fade-delay-2"><strong>Total Due:</strong> <span id="total-due">$0.00</span></p>

    <p class="fade-in fade-delay-2">
      <strong>Order Number:</strong> <span id="order-number"></span>
    </p>

    <div class="payment-section fade-in fade-delay-3">
      <p>Please send your payment via Venmo to:</p>

      <a href="https://venmo.com/Son-Nguyen-531" target="_blank" class="venmo-button">
        <img src="images/VenmoLogo.png" alt="Venmo" />
        @Son-Nguyen-531
      </a>

      <p>Once payment is received, your order will be processed and shipped.</p>
    </div>

    <button id="return-home" class="checkout-btn fade-in fade-delay-3">
      Return to Home
    </button>
  </main>
  <script>
    // Pull total from previous page
    const totalDue = localStorage.getItem("finalTotal") || "0.00";
    document.getElementById("total-due").textContent = `$${totalDue}`;

    // Generate a unique order number like POK-382194
    function generateOrderNumber() {
      const prefix = "POK";
      const randomNum = Math.floor(100000 + Math.random() * 900000);
      return `${prefix}-${randomNum}`;
    }

    // If order number already exists, reuse it. Otherwise generate one.
    let orderNum = localStorage.getItem("orderNumber");
    if (!orderNum) {
      orderNum = generateOrderNumber();
      localStorage.setItem("orderNumber", orderNum);
    }

    // Display order number
    document.getElementById("order-number").textContent = orderNum;

    // Clear order data when leaving page
    document.getElementById("return-home").addEventListener("click", () => {
      localStorage.removeItem("orderNumber");
      localStorage.removeItem("finalTotal");
      window.location.href = "index.html";
    });
  </script>
</body>
</html>
